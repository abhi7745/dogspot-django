{% extends "home/base.html" %}
{% load static %}

{% block styles %}
{% endblock styles %}

{% block content %}

    <!-- Navbar & Carousel Start -->
    <div class="container-fluid position-relative p-0">
        
        {% include "home/navigation_bar.html" %}

        <div id="header-carousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
            

            <div class="carousel-inner">
                <div class="carousel-item active"> 
                    <img class="w-100" src="https://images.unsplash.com/photo-1444212477490-ca407925329e?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8c3RyZWV0JTIwZG9nfGVufDB8fDB8fHww" alt="Image">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 900px;">
                            <h5 class="text-white text-uppercase mb-3 animated slideInDown">Discover Stray Dogs Stories</h5>
                            <h1 class="display-1 text-white mb-md-4 animated zoomIn">Experience a Fear-Free Walking Journey with Dogspot</h1>
                        </div>
                    </div>
                </div>
                <div class="carousel-item"> 
                    <img class="w-100" src="https://media.istockphoto.com/id/955851492/photo/a-cute-brown-dog-is-posing-in-front-of-the-camera-in-one-of-the-many-colorful-alley-of.jpg?s=612x612&w=0&k=20&c=MWl-ERJkNMFR9wPuhdwpiIWsBsjRMhC-kADJgnl7a90=" alt="Image">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 900px;">
                            <h5 class="text-white text-uppercase mb-3 animated slideInDown">Support Adoption and Sponsorship</h5>
                            <h1 class="display-1 text-white mb-md-4 animated zoomIn">Make a Difference in a Stray Dog's Life with Dogspot</h1>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <img class="w-100" src="https://thumbs.dreamstime.com/b/indian-street-dog-background-blue-door-udaipur-rajasthan-india-87255000.jpg" alt="Image">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 900px;">
                            <h5 class="text-white text-uppercase mb-3 animated slideInDown">Explore Volunteer Opportunities</h5>
                            <h1 class="display-1 text-white mb-md-4 animated zoomIn">Join the Dogspot Community and Give Back</h1>
                        </div>
                    </div>
                </div>
            
                <div class="carousel-item">
                    <img class="w-100" src="https://images.deccanherald.com/deccanherald%2Fimport%2Fsites%2Fdh%2Ffiles%2Farticle_images%2F2020%2F05%2F19%2FiStock-475989065-1115790551-1586363528.jpg?w=1200&ar=40%3A21&auto=format%2Ccompress&ogImage=true&mode=crop&enlarge=true&overlay=false&overlay_position=bottom&overlay_width=100" alt="Image">
                    <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                        <div class="p-3" style="max-width: 900px;">
                            <h5 class="text-white text-uppercase mb-3 animated slideInDown">Help Create Fear-Free Environments</h5>
                            <h1 class="display-1 text-white mb-md-4 animated zoomIn">Empowering Communities for Safer Dog Encounters</h1>
                        </div>
                    </div>
                </div>
            </div>
            

            <button class="carousel-control-prev" type="button" data-bs-target="#header-carousel"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#header-carousel"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
    <!-- Navbar & Carousel End -->

    <!-- About Start -->
    <div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-7">
                    <div class="section-title position-relative pb-3 mb-5">
                        <h5 class="fw-bold text-primary text-uppercase">About Dogspot</h5>
                        <h1 class="mb-0">Revolutionizing Dog Walking with Innovative Technology</h1>
                    </div>
                    <p class="mb-4">At Dogspot, we are committed to providing a fear-free walking experience for dogs and their owners. With over a decade of experience, we leverage cutting-edge technology to offer comprehensive details on stray dogs' photos and behavior in different areas. Our platform empowers users to make informed decisions while engaging in various opportunities, including dog donation, sponsorship, adoption, and volunteer opportunities to set up adoptions.</p>
                    <!-- <div class="row g-0 mb-3">
                        <div class="col-sm-6 wow zoomIn" data-wow-delay="0.2s">
                            <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Award Winning</h5>
                            <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Professional Staff</h5>
                        </div>
                        <div class="col-sm-6 wow zoomIn" data-wow-delay="0.4s">
                            <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>24/7 Support</h5>
                            <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Fair Prices</h5>
                        </div>
                    </div>
                    <div class="d-flex align-items-center mb-4 wow fadeIn" data-wow-delay="0.6s">
                        <div class="bg-primary d-flex align-items-center justify-content-center rounded" style="width: 60px; height: 60px;">
                            <i class="fa fa-phone-alt text-white"></i>
                        </div>
                        <div class="ps-4">
                            <h5 class="mb-2">Have any questions?</h5>
                            <h4 class="text-primary mb-0">Call us now: +012 345 6789</h4>
                        </div>
                    </div> -->
                    <a href="{% url "home.map" %}" class="btn btn-primary py-3 px-5 mt-3 wow zoomIn" data-wow-delay="0.9s">View Map</a>
                </div>
                <div class="col-lg-5" style="min-height: 500px;">
                    <div class="position-relative h-100">
                        <!--map div-->
                        <div id="map" style=" z-index: 1;"  class="position-absolute w-100 h-100 rounded wow zoomIn" data-wow-delay="0.9s" style="object-fit: cover;"></div>
                        {% comment %} <img class="position-absolute w-100 h-100 rounded wow zoomIn" data-wow-delay="0.9s" src="https://place-puppy.com/500x500" style="object-fit: cover;"> {% endcomment %}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- About End -->



    <!-- Service Start -->
    <div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="section-title text-center position-relative pb-3 mb-5 mx-auto" style="max-width: 600px;">
                <h5 class="fw-bold text-primary text-uppercase">Our Services</h5>
                <h1 class="mb-0">Tailored Solutions for a Fear-Free Walking Experience</h1>
            </div>
            <div class="row g-5">
                <div class="col-lg-4 col-md-6 wow zoomIn" data-wow-delay="0.3s">
                    <div class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center">
                        <div class="service-icon">
                            <i class="fa fa-map-marker-alt text-white"></i>
                        </div>
                        <h4 class="mb-3">Live Location Map</h4>
                        <p class="m-0">Track the location of stray dogs in red, yellow, and green zones for a safe walking experience.</p>
                        <a class="btn btn-lg btn-primary rounded" href="#">
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 wow zoomIn" data-wow-delay="0.6s">
                    <div class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center">
                        <div class="service-icon">
                            <i class="fa fa-hand-holding-heart text-white"></i>
                        </div>
                        <h4 class="mb-3">Donation for Street Dogs</h4>
                        <p class="m-0">Support street dogs by making donations to provide them with food, shelter, and medical care.</p>
                        <a class="btn btn-lg btn-primary rounded" href="#">
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 wow zoomIn" data-wow-delay="0.9s">
                    <div class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center">
                        <div class="service-icon">
                            <i class="fa fa-search text-white"></i>
                        </div>
                        <h4 class="mb-3">Missing Dog Cases</h4>
                        <p class="m-0">Report missing cases of dogs and help others find their lost pets with the community's support.</p>
                        <a class="btn btn-lg btn-primary rounded" href="#">
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 wow zoomIn" data-wow-delay="1.2s">
                    <div class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center">
                        <div class="service-icon">
                            <i class="fa fa-home text-white"></i>
                        </div>
                        <h4 class="mb-3">Adoption for Street Dogs</h4>
                        <p class="m-0">Facilitate adoption of street dogs by allowing users to add dog profiles, which are visible to all users for adoption requests.</p>
                        <a class="btn btn-lg btn-primary rounded" href="#">
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 wow zoomIn" data-wow-delay="1.8s">
                    <div class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center">
                        <div class="service-icon">
                            <i class="fa fa-users text-white"></i>
                        </div>
                        <h4 class="mb-3">Community for Local Dogs</h4>
                        <p class="m-0">Join the local dog community to connect with other dog lovers, share experiences, and organize events.</p>
                        <a class="btn btn-lg btn-primary rounded" href="#">
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 wow zoomIn" data-wow-delay="1.5s">
                    <div class="service-item bg-light rounded d-flex flex-column align-items-center justify-content-center text-center">
                        <div class="service-icon">
                            <i class="fa fa-book text-white"></i>
                        </div>
                        <h4 class="mb-3">Blogs</h4>
                        <p class="m-0">Share real dog connection stories with other users through our blogging platform.</p>
                        <a class="btn btn-lg btn-primary rounded" href="#">
                            <i class="bi bi-arrow-right"></i>
                        </a>
                    </div>
                </div>
                <!-- Add more services related to Dogspot here -->
            </div>
        </div>
    </div>
    <!-- Service End -->


    



    <!-- contact_us Start -->
    <div id="contact_us" class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-7">
                    <div class="section-title position-relative pb-3 mb-5">
                        <h5 class="fw-bold text-primary text-uppercase">Connect with Dogspot</h5>
                        <h1 class="mb-0">Got Questions or Feedback? Reach Out to Us!</h1>
                    </div>
                    <div class="row gx-3">
                        <div class="col-sm-6 wow zoomIn" data-wow-delay="0.2s">
                            <h5 class="mb-4"><i class="fa fa-reply text-primary me-3"></i>Reply within 48 hours</h5>
                        </div>
                        <!-- <div class="col-sm-6 wow zoomIn" data-wow-delay="0.4s">
                            <h5 class="mb-4"><i class="fa fa-phone-alt text-primary me-3"></i>24 hrs telephone support</h5>
                        </div> -->
                    </div>
                    <p class="mb-4">At Dogspot, we're dedicated to providing you with the best experience. Whether you have questions about our services, want to share feedback, or just want to say hello, we're here for you.</p>
                    <!-- <div class="d-flex align-items-center mt-2 wow zoomIn" data-wow-delay="0.6s">
                        <div class="bg-primary d-flex align-items-center justify-content-center rounded" style="width: 60px; height: 60px;">
                            <i class="fa fa-phone-alt text-white"></i>
                        </div>
                        <div class="ps-4">
                            <h5 class="mb-2">Call to ask any question</h5>
                            <h4 class="text-primary mb-0">+012 345 6789</h4>
                        </div>
                    </div> -->
                </div>
                <div class="col-lg-5">
                    <div class="bg-primary rounded h-100 d-flex align-items-center p-5 wow zoomIn" data-wow-delay="0.9s">
                        <form method="post" action="#">
                            <div class="row g-3">
                                <div class="col-xl-12">
                                    <input type="text" class="form-control bg-light border-0" required  placeholder="Your Name" style="height: 55px;">
                                </div>
                                <div class="col-12">
                                    <input type="email" class="form-control bg-light border-0" required placeholder="Your Email" style="height: 55px;">
                                </div>
                                <div class="col-12">
                                    <select class="form-select bg-light border-0" style="height: 55px;" required>
                                        <!-- <option selected disabled>Select</option> -->
                                        <option value="contact_us" selected>Contact Us</option>
                                        <option value="feedback">Feedback</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <textarea class="form-control bg-light border-0" rows="3" required placeholder="Message"></textarea>
                                </div>
                                <div class="col-12">
                                    <button class="btn btn-dark w-100 py-3" type="submit">Submit</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>    

    <!-- contact_us End -->


    <!-- contributors Start -->
    <div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="section-title text-center position-relative pb-3 mb-4 mx-auto" style="max-width: 600px;">
                <h5 class="fw-bold text-primary text-uppercase">Contributors</h5>
                <h1 class="mb-0">Meet Our Valued Contributors</h1>
            </div>
            <div class="owl-carousel testimonial-carousel wow fadeInUp" data-wow-delay="0.6s">
                <div class="testimonial-item bg-light my-4">
                    <div class="d-flex align-items-center border-bottom pt-5 pb-4 px-5">
                        <img class="img-fluid rounded" src="{% static "home/img/testimonial-1.jpg" %}" style="width: 60px; height: 60px;" >
                        <div class="ps-4">
                            <h4 class="text-primary mb-1">Lucy Philip</h4>
                            <small class="text-uppercase">Kottayam</small>
                        </div>
                    </div>
                    <div class="pt-4 pb-5 px-5">
                        Dolor et eos labore, stet justo sed est sed. Diam sed sed dolor stet amet eirmod eos labore diam
                    </div>
                </div>
                <div class="testimonial-item bg-light my-4">
                    <div class="d-flex align-items-center border-bottom pt-5 pb-4 px-5">
                        <img class="img-fluid rounded" src="{% static "home/img/testimonial-2.jpg" %}" style="width: 60px; height: 60px;" >
                        <div class="ps-4">
                            <h4 class="text-primary mb-1">Amal</h4>
                            <small class="text-uppercase">Pala</small>
                        </div>
                    </div>
                    <div class="pt-4 pb-5 px-5">
                        Dolor et eos labore, stet justo sed est sed. Diam sed sed dolor stet amet eirmod eos labore diam
                    </div>
                </div>
                <div class="testimonial-item bg-light my-4">
                    <div class="d-flex align-items-center border-bottom pt-5 pb-4 px-5">
                        <img class="img-fluid rounded" src="{% static "home/img/testimonial-3.jpg" %}" style="width: 60px; height: 60px;" >
                        <div class="ps-4">
                            <h4 class="text-primary mb-1">Sunil Dev</h4>
                            <small class="text-uppercase">Ettumanoor</small>
                        </div>
                    </div>
                    <div class="pt-4 pb-5 px-5">
                        Dolor et eos labore, stet justo sed est sed. Diam sed sed dolor stet amet eirmod eos labore diam
                    </div>
                </div>
                <div class="testimonial-item bg-light my-4">
                    <div class="d-flex align-items-center border-bottom pt-5 pb-4 px-5">
                        <img class="img-fluid rounded" src="{% static "home/img/testimonial-4.jpg" %}" style="width: 60px; height: 60px;" >
                        <div class="ps-4">
                            <h4 class="text-primary mb-1">Joel james</h4>
                            <small class="text-uppercase">Kollam</small>
                        </div>
                    </div>
                    <div class="pt-4 pb-5 px-5">
                        Dolor et eos labore, stet justo sed est sed. Diam sed sed dolor stet amet eirmod eos labore diam
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- contributors End -->




    <!-- Blog Start -->
    <div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="section-title text-center position-relative pb-3 mb-5 mx-auto" style="max-width: 600px;">
                <h5 class="fw-bold text-primary text-uppercase">Latest Blog</h5>
                <h1 class="mb-0">Read The Latest Articles from Our Blog Post</h1>
            </div>
            <div class="row g-5">
                <div class="col-lg-4 wow slideInUp" data-wow-delay="0.3s">
                    <div class="blog-item bg-light rounded overflow-hidden">
                        <div class="blog-img position-relative overflow-hidden">
                            <img class="img-fluid" src="{% static "home/img/blog-1.jpg" %}" alt="">
                            <a class="position-absolute top-0 start-0 bg-primary text-white rounded-end mt-5 py-2 px-4" href="">Web Design</a>
                        </div>
                        <div class="p-4">
                            <div class="d-flex mb-3">
                                <small class="me-3"><i class="far fa-user text-primary me-2"></i>John Doe</small>
                                <small><i class="far fa-calendar-alt text-primary me-2"></i>01 Jan, 2045</small>
                            </div>
                            <h4 class="mb-3">How to build a website</h4>
                            <p>Dolor et eos labore stet justo sed est sed sed sed dolor stet amet</p>
                            <a class="text-uppercase" href="">Read More <i class="bi bi-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 wow slideInUp" data-wow-delay="0.6s">
                    <div class="blog-item bg-light rounded overflow-hidden">
                        <div class="blog-img position-relative overflow-hidden">
                            <img class="img-fluid" src="{% static "home/img/blog-2.jpg" %}" alt="">
                            <a class="position-absolute top-0 start-0 bg-primary text-white rounded-end mt-5 py-2 px-4" href="">Web Design</a>
                        </div>
                        <div class="p-4">
                            <div class="d-flex mb-3">
                                <small class="me-3"><i class="far fa-user text-primary me-2"></i>John Doe</small>
                                <small><i class="far fa-calendar-alt text-primary me-2"></i>01 Jan, 2045</small>
                            </div>
                            <h4 class="mb-3">How to build a website</h4>
                            <p>Dolor et eos labore stet justo sed est sed sed sed dolor stet amet</p>
                            <a class="text-uppercase" href="">Read More <i class="bi bi-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 wow slideInUp" data-wow-delay="0.9s">
                    <div class="blog-item bg-light rounded overflow-hidden">
                        <div class="blog-img position-relative overflow-hidden">
                            <img class="img-fluid" src="{% static "home/img/blog-3.jpg" %}" alt="">
                            <a class="position-absolute top-0 start-0 bg-primary text-white rounded-end mt-5 py-2 px-4" href="">Web Design</a>
                        </div>
                        <div class="p-4">
                            <div class="d-flex mb-3">
                                <small class="me-3"><i class="far fa-user text-primary me-2"></i>John Doe</small>
                                <small><i class="far fa-calendar-alt text-primary me-2"></i>01 Jan, 2045</small>
                            </div>
                            <h4 class="mb-3">How to build a website</h4>
                            <p>Dolor et eos labore stet justo sed est sed sed sed dolor stet amet</p>
                            <a class="text-uppercase" href="">Read More <i class="bi bi-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Blog Start -->


    

{% endblock content %}

{% block script %}
<!-- leaflet css -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
crossorigin=""/>
 <!-- Leaflet's javascript -->
 <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
 integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
 crossorigin=""></script>

<!-- leaflet fullscreem - css and js -->
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>

<!-- leaflet search- css and js -->
<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

<!-- Leaflet.Locate plugin cdn-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.79.0/dist/L.Control.Locate.min.css" />
<script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.79.0/dist/L.Control.Locate.min.js" charset="utf-8"></script>


<script>
    // map initialization
    // var map = L.map('map').setView([9.621770, 76.530144], 15);
    // var map = L.map('map').setView([8.5241391, 76.9366376], 15);
    // var map = L.map('map').setView([8.4855, 76.9492], 15); // python

    
    {% comment %} var map = L.map('map', {fullscreenControl: true}).setView([{{lat}}, {{lng}}], 12); // python {% endcomment %}
    {% comment %} var map = L.map('map', {fullscreenControl: true}).setView([9.617436, 76.532735], 12); // python {% endcomment %}
    var map = L.map('map', {fullscreenControl: true}).setView([9.772655, 76.519711], 12); // python

    
    // osm layer
    var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);


    // custom image point icon
    var greenIcon = new L.Icon({
        {% comment %} iconUrl: '{% static "map_image/dogmarker.png" %}', {% endcomment %}
        iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]

        
      });


    //var mymarker = L.marker([9.772655, 76.519711], {icon: greenIcon}).addTo(map); //amal college location

    // dynamic map point adder to leaflet map
    {% for map in map_db  %}
    {% comment %} console.log('{{map.title}}') {% endcomment %}
        var mymarker = L.marker([{{map.latitude}}, {{map.longitude}}]).addTo(map);
        {% comment %} mymarker.bindPopup('{{map.title}} '+ mymarker.getLatLng()) {% endcomment %}
        mymarker.bindPopup(` <a href="https://www.tcsion.com/hub/national-qualifier-test/" style="text-decoration: none;">
            <div style="display: flex;justify-content: space-around;">
                <img alt="image" src="{{map.dog_pics_set.all.0.image.url}}" class="" style="width: 70px; height: 70px; border-radius: 50%;" data-toggle="tooltip" title="" data-original-title="Dog image">
                <div style="padding-left: 16px;color:black;">
                    <h5>{{map.place_name|truncatechars:16}}</h5>
                    <span>
                        {{map.description|truncatechars:32}}
                    </span>
                </div>
        
            </div>
        </a>`);
        
        var mymarker = L.circle(
            {% comment %} [{{lat}}, {{lng}}], {% endcomment %}
            [{{map.latitude}}, {{map.longitude}}],
            {
                //icon: greenIcon,
                color: '{{map.radius_color}}',
                fillColor: '{{map.radius_color_hexcode}}',
                fillOpacity: 0.3,
                radius: '{{map.km_distance}}'
                }
            ).addTo(map);
    {% endfor %}


     // creating user location control and add to map - start  ################################
     var lc = L.control
     .locate({
         position: "topleft",
         strings: {
             title: "Show me where I am, yo!"
         },
         locateOptions: {
             enableHighAccuracy: true
         },
         locateOptions: {
             maxZoom: 19
         }
 
     }).addTo(map);
 
     // request location update and set location
     lc.start(); // this will automatically set location
    // creating user location control and add to map - start  ################################


    // search to add Location pointer
    var geocoder = L.Control.geocoder({
        defaultMarkGeocode: false
        })
        .on('markgeocode', function(e) {
            // console.log(e)
            // console.log(e.geocode.center.lat)
            // console.log(e.geocode.center.lng)
            // console.log(e.geocode.name)
            lat = e.geocode.center.lat
            lng = e.geocode.center.lng
            location_name = e.geocode.name
            var search_marker = L.marker([lat, lng], {draggable:true}).addTo(map);
            search_marker.bindPopup(`${location_name} ${search_marker.getLatLng()}<br><a href="/user/add-dogspot/${lat}/${lng}" target="_blank" style="display:flex;justify-content:center;font-weight:bold;">Add Dogspot </a>`).openPopup();

            // ondrag marker pointer updater
            search_marker.on('drag', function(e) {
                // console.log('marker drag event : ', search_marker.getLatLng());
                lat = search_marker.getLatLng().lat
                lng = search_marker.getLatLng().lng
                // console.log(e.target._popup._content)
                console.log(search_marker)
                // search_marker.bindPopup(`<a href="add-spot/${lat}/${lng}" target="_blank">Add Dogspot </a>` + search_marker.getLatLng()).openPopup();
                search_marker.bindPopup(`${location_name} ${search_marker.getLatLng()}<br><a href="/user/add-dogspot/${lat}/${lng}" target="_blank" style="display:flex;justify-content:center;font-weight:bold;">Add Dogspot </a>`).openPopup();
            });


    }).addTo(map);


</script>

{% endblock script %}